{% load static %}

<!doctype html>
<html lang="en">
<head>
    <title>Home | Tesla Legacy Capital Partners - Leading Trading Platform in the USA</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ACCESS FOREX CONCIERGE LTD is your trusted partner in the world of digital finance">
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'cores/assets/css/bootstrap.min.css' %}" data-name="bootstrap">
    <link rel="stylesheet" href="{% static 'cores/assets/vendor/bootstrap-icons/bootstrap-icons.min.css' %}" data-name="bootstrap-icon">
    <link rel="stylesheet" href="{% static 'cores/assets/css/animate.min.css' %}" data-name="animate">
    <link rel="stylesheet" href="{% static 'cores/assets/vendor/glightbox/glightbox.min.css' %}" data-name="glightbox">
    <link rel="stylesheet" href="{% static 'cores/assets/vendor/toastify/toastify.min.css' %}" data-name="toastify">
    <link rel="stylesheet" href="{% static 'cores/assets/css/font-size.min.css' %}" data-name="font-size">
    <link rel="stylesheet" href="{% static 'cores/assets/css/main.css' %}" data-name="main-css">
    <link rel="stylesheet" href="{% static 'modules/uss-dashboard/GUI/themes/classic/assets/css/default.css'%}">
</head>

<style>
.auth-cover-wrapper,
.auth-bg-image {
    background-image: url("{% static 'crypto_web.jpg' %}") !important;
    background-repeat: no-repeat;
    background-size: cover;
}
</style>

<body>
    <div class="row g-0 min-vh-100">
        <div class="col-lg-6">
            <div class="auth-cover-wrapper">
                <div class="auth-cover px-sm-5">
                    <div class="title text-center">
                        <h1 class="text-white mb-2">
                            Tesla Legacy Capital Partners
                        </h1>
                        <p class="text-light">
                            LEADING TRADING PLATFORM IN THE USA
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-6">
            <div class="row g-0 align-items-center justify-content-center bg-light p-5 h-100">
                <div class="col-sm-10 col-md-9 m-auto">
                    <h4 class="text-center text-dark mb-3">
                        CREATE AN ACCOUNT
                    </h4>
                    <p class="text-center">Open account for free and start earning!</p>
                    
                    <form class="form row" action="{% url 'register' %}" method="post" id="register-form">
                        {% csrf_token %}
                        <fieldset class="collection-wrapper col-12 primary-collection" data-el-context="collection.fieldset">
                            <div class="row collection-container" data-el-context="collection.container">
                                
                                <!-- First Name -->
                                <div class="frame col-12 my-1 user-firstname-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group" data-el-context="gadget.container">
                                                <span class="input-affix input-group-text" data-el-context="gadget.prefix">
                                                    <i class='bi bi-person'></i>
                                                </span>
                                                <input type="text" class="form-control" required="" placeholder="fullname" name="user[fullname]" id="field-widget-0">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                          
                                
                                <!-- Phone Number -->
                                <div class="frame col-12 my-1 user-phone-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group" data-el-context="gadget.container">
                                                <span class="input-affix input-group-text" data-el-context="gadget.prefix">
                                                    <i class='bi bi-telephone'></i>
                                                </span>
                                                <input type="tel" class="form-control" required="" placeholder="Phone Number" name="user[phone]" id="field-widget-2">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Email -->
                                <div class="frame col-12 my-1 user-email-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group" data-el-context="gadget.container">
                                                <span class="input-affix input-group-text" data-el-context="gadget.prefix">
                                                    <i class='bi bi-at'></i>
                                                </span>
                                                <input type="email" class="form-control" required="" placeholder="Email" name="user[email]" id="field-widget-3">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Country Field -->
                                <div class="frame col-12 my-1 user-country-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group">
                                                <span class="input-affix input-group-text">
                                                    <i class='bi bi-globe'></i>
                                                </span>
                                                <select class="form-control" name="user[country]" required="" id="field-widget-8">
                                                    <option value="" selected disabled>Select Country</option>
                                                    <option value="United States">United States</option>
                                                    <option value="United Kingdom">United Kingdom</option>
                                                    <option value="Canada">Canada</option>
                                                    <option value="Australia">Australia</option>
                                                    <option value="Germany">Germany</option>
                                                    <option value="France">France</option>
                                                    <option value="India">India</option>
                                                    <option value="China">China</option>
                                                    <option value="Japan">Japan</option>
                                                    <option value="Brazil">Brazil</option>
                                                    <option value="South Africa">South Africa</option>
                                                    <option value="Nigeria">Nigeria</option>
                                                    <option value="Russia">Russia</option>
                                                    <option value="Mexico">Mexico</option>
                                                    <option value="Italy">Italy</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Currency Field -->
                                <div class="frame col-12 my-1 user-currency-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group">
                                                <span class="input-affix input-group-text">
                                                    <i class='bi bi-cash'></i>
                                                </span>
                                                <select class="form-control" name="user[currency]" required="" id="field-widget-9">
                                                    <option value="" selected disabled>Select Currency</option>
                                                    <option value="USD">US Dollar (USD)</option>
                                                    <option value="EUR">Euro (EUR)</option>
                                                    <option value="GBP">British Pound (GBP)</option>
                                                    <option value="CAD">Canadian Dollar (CAD)</option>
                                                    <option value="AUD">Australian Dollar (AUD)</option>
                                                    <option value="JPY">Japanese Yen (JPY)</option>
                                                    <option value="INR">Indian Rupee (INR)</option>
                                                    <option value="CNY">Chinese Yuan (CNY)</option>
                                                    <option value="BRL">Brazilian Real (BRL)</option>
                                                    <option value="ZAR">South African Rand (ZAR)</option>
                                                    <option value="NGN">Nigerian Naira (NGN)</option>
                                                    <option value="RUB">Russian Ruble (RUB)</option>
                                                    <option value="MXN">Mexican Peso (MXN)</option>
                                                    <option value="CHF">Swiss Franc (CHF)</option>
                                                    <option value="SGD">Singapore Dollar (SGD)</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Password -->
                                <div class="frame col-12 my-1 user-password-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group" data-el-context="gadget.container">
                                                <span class="input-affix input-group-text" data-el-context="gadget.prefix">
                                                    <i class='bi bi-lock'></i>
                                                </span>
                                                <input type="password" class="form-control" required="" placeholder="Password" pattern="^.{4,}$" name="user[password]" id="field-widget-4">
                                                <button class="btn btn-outline-secondary toggle-password" type="button" onclick="togglePassword('field-widget-4', 'toggle-password-icon')">
                                                    <i class="bi bi-eye" id="toggle-password-icon"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Confirm Password -->
                                <div class="frame col-12 my-1 user-confirmpassword-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container my-1 input-group" data-el-context="gadget.container">
                                                <span class="input-affix input-group-text" data-el-context="gadget.prefix">
                                                    <i class='bi bi-shield-lock'></i>
                                                </span>
                                                <input type="password" class="form-control" required="" placeholder="Confirm Password" pattern="^.{4,}$" name="user[confirmPassword]" id="field-widget-5">
                                                <button class="btn btn-outline-secondary toggle-password" type="button" onclick="togglePassword('field-widget-5', 'toggle-confirm-password-icon')">
                                                    <i class="bi bi-eye" id="toggle-confirm-password-icon"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Agreement Checkbox -->
                                <div class="frame col-12 my-1 user-agree-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container input-single my-1 form-check" data-el-context="gadget.container">
                                                <input type="checkbox" class="form-check-input" required="" id="field-widget-6">
                                                <label class="form-check-label user-select-none small" for="field-widget-6">
                                                    <span>
                                                        I agree to the 
                                                        <a href='javascript:void(0)' target='_self'>terms of service</a> &amp; 
                                                        <a href='javascript:void(0)' target='_self'>privacy policy</a>
                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Submit Button -->
                                <div class="frame col-12 my-1 submit-field" data-el-context="field.frame">
                                    <div class="field-wrapper" data-el-context="field.wrapper">
                                        <div class="gadget-wrapper" data-el-context="field.gadgetWrapper">
                                            <div class="widget-container input-single my-1" data-el-context="gadget.container">
                                                <button type="submit" class="btn btn-dark w-100" required="" id="field-widget-7">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </fieldset>
                    </form>
                    
                    <hr>
                    
                    <div class="my-1">
                        <p class="text-sm text-center">
                            <span>Already have an account?</span>
                            <a href="{% url 'login' %}" class="hover-underline text-nowrap">Sign In</a>
                        </p>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
    
    <!-- Include JS Files -->
    <script type="text/javascript" src="{% static 'cores/assets/js/vue.global.prod.min.js' %}" data-name="vue"></script>
    <script type="text/javascript" src="{% static 'cores/assets/js/jquery-3.7.1.min.js' %}" data-name="jquery"></script>
    <script type="text/javascript" src="{% static 'cores/assets/js/bootstrap.bundle.min.js' %}" data-name="bootstrap-bundle"></script>
    <script type="text/javascript" src="{% static 'cores/assets/js/bootbox.all.min.js' %}" data-name="bootbox"></script>
    <script type="text/javascript" src="{% static 'cores/assets/vendor/glightbox/glightbox.min.js' %}" data-name="glightbox"></script>
    <script type="text/javascript" src="{% static 'cores/assets/vendor/toastify/toastify-js.js' %}" data-name="toastify"></script>
    <script type="text/javascript" src="{% static 'cores/assets/vendor/notiflix/notiflix-loading-aio-3.2.7.min.js' %}" data-name="notiflix-loading"></script>
    <script type="text/javascript" src="{% static 'cores/assets/vendor/notiflix/notiflix-block-aio-3.2.7.min.js' %}" data-name="notiflix-block"></script>
    <script type="text/javascript" src="{% static 'cores/assets/js/main.js' %}" data-name="main-js"></script>
    <script src="{% static 'modules/uss-dashboard/GUI/assets/js/data-magic.js' %}"></script>
    <script src="{% static 'modules/uss-dashboard/Foundation/User/assets/js/security.js' %}"></script>

    <!-- Toastify CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <!-- Toastify JS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    
    <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("register-form").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent default form submission
    
            let form = event.target;
            let submitButton = form.querySelector("button[type='submit']");
            let csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;
    
            // Disable button while processing
            submitButton.disabled = true;
            submitButton.innerText = "Processing...";
    
            function showToast(message, type) {
                let bgColor;
                if (type === "error") {
                    bgColor = "linear-gradient(to right, #ff416c, #ff4b2b)";
                } else if (type === "warning") {
                    bgColor = "linear-gradient(to right, #ffcc00, #ff9900)";
                } else {
                    bgColor = "linear-gradient(to right, #00b09b, #96c93d)";
                }
    
                Toastify({
                    text: message,
                    duration: 4000,
                    close: true,
                    gravity: "top",
                    position: "right",
                    style: { background: bgColor, borderRadius: "8px" }
                }).showToast();
            }
    
            // Get all fields from the form
            let firstName = document.getElementById("field-widget-0").value.trim();
            let phone = document.getElementById("field-widget-2").value.trim();
            let email = document.getElementById("field-widget-3").value.trim();
            let country = document.getElementById("field-widget-8").value.trim();
            let currency = document.getElementById("field-widget-9").value.trim();
            let password = document.getElementById("field-widget-4").value.trim();
            let confirmPassword = document.getElementById("field-widget-5").value.trim();
            let termsChecked = document.getElementById("field-widget-6").checked;
    
            if (!firstName || !phone || !email || !country || !currency || !password || !confirmPassword) {
                showToast("All fields are required!", "error");
                submitButton.disabled = false;
                submitButton.innerText = "Register";
                return;
            }
    
            if (password.length < 6) {
                showToast("Password must be at least 6 characters!", "error");
                submitButton.disabled = false;
                submitButton.innerText = "Register";
                return;
            }
    
            if (password !== confirmPassword) {
                showToast("Passwords do not match!", "error");
                submitButton.disabled = false;
                submitButton.innerText = "Register";
                return;
            }
    
            if (!termsChecked) {
                showToast("You must agree to the Terms and Privacy Policy!", "warning");
                submitButton.disabled = false;
                submitButton.innerText = "Register";
                return;
            }
    
            // Prepare form data for JSON request with all fields
            let formData = JSON.stringify({
                first_name: firstName,
                phone: phone,
                email: email,
                country: country,
                currency: currency,
                password: password,
                confirmPassword: confirmPassword
            });
    
            // Send request to Django
            fetch(form.action, {
                method: "POST",
                body: formData,
                headers: {
                    "X-CSRFToken": csrfToken,
                    "Content-Type": "application/json"
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showToast("Registration Successful! Redirecting...", "success");
                    setTimeout(() => {
                        window.location.href = "{% url 'login' %}";
                    }, 2000);
                } else {
                    showToast(data.error || "Registration failed!", "error");
                    submitButton.disabled = false;
                    submitButton.innerText = "Register";
                }
            })
            .catch(error => {
                showToast("Something went wrong! Try again.", "error");
                submitButton.disabled = false;
                submitButton.innerText = "Register";
            });
        });
    });
    </script>
    
    <script>
    function togglePassword(inputId, iconId) {
        var input = document.getElementById(inputId);
        var icon = document.getElementById(iconId);
        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove("bi-eye");
            icon.classList.add("bi-eye-slash");
        } else {
            input.type = "password";
            icon.classList.remove("bi-eye-slash");
            icon.classList.add("bi-eye");
        }
    }
    </script>
    
    <script>
        var wa_btnSetting = {
            btnColor: "#16BE45",
            ctaText: "WhatsApp Us",
            cornerRadius: 40,
            marginBottom: 20,
            marginLeft: 20,
            marginRight: 20,
            btnPosition: "left",
            whatsAppNumber: "‪+2272712017‬",
            welcomeMessage: "Hello",
            zIndex: 999999,
            btnColorScheme: "light",
        };
        window.onload = () => {
            _waEmbed(wa_btnSetting);
        };
    </script>
    
    <script async src="https://d2mpatx37cqexb.cloudfront.net/delightchat-whatsapp-widget/embeds/embed.min.js"></script>
    
</body>
</html>
